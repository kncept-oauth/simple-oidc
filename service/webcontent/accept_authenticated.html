<!DOCTYPE html>
<html>
{{ template "header.snippet" (Wrap "Title" "Simple OIDC") }}

<body>
    <section class="section">
    <h1 class="title is-1">Simple OIDC</h1>

    {{/*
    Client id is: {{.Params.ClientId}} <br/>
    */}}

    {{ if .ExistingAuthorization }}
    <p>You have already logged into this provider before</p>
    {{ template "client_authorization_summary.snippet" .ExistingAuthorization }}
    {{ else }}
    <p>This is the first time logging into this provider</p>
    {{ end }}
    <br>

    (authenticated accept screen)
    {{ template "accept_summary.snippet" .Params }}

    <br>
    {{/*
    <div class="ClientAuthorizations">
        {{ if gt (len .ClientAuthorizations) 0 }}
        <p>You are currently authorized with the following other clients</p>
        {{ range $ca := .ClientAuthorizations }}
        {{ template "client_authorization_summary.snippet" $ca }}
        <br />
        {{ end }}
        {{ else }}
        <p>You are not currently authorized with any other clients</p>
        {{ end }}
    </div>
    */}}

    <a class="button is-danger" href="/logout">Logout</a> <a class="button is-primary" href="/confirm">Confirm Login</a>

    </section>
</body>

</html>